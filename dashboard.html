<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <title>Florense</title>
    <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>üìã</text></svg>">
    <link rel="stylesheet" href="dashboard.css">
    <link href='https://cdn.boxicons.com/fonts/basic/boxicons.min.css' rel='stylesheet'>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
</head>
<body>
    <!-- Navigation Bar -->
    <nav class="navbar">
        <div class="nav-left">
            <div class="logo" onclick="goBackToPrevious()" style="cursor: pointer;">
                <h1>Florense</h1>
            </div>
        </div>
        
        <div class="nav-center">
            <div class="search-container">
                <i class="fas fa-search"></i>
                <input type="text" placeholder="Pesquisar quadros, cart√µes, membros..." id="search-input">
            </div>
        </div>
        
        <div class="nav-right">
            <button class="notification-btn" id="notification-btn">
                <i class="fas fa-bell"></i>
                <span class="notification-badge" id="notification-badge">0</span>
            </button>
            
            <div class="notifications-dropdown" id="notifications-dropdown">
                <div class="notifications-header">
                    <h3>Notifica√ß√µes</h3>
                    <button class="mark-all-read" id="mark-all-read">Marcar todas como lidas</button>
                </div>
                <div class="notifications-list" id="notifications-list">
                    <!-- Notifica√ß√µes ser√£o inseridas aqui dinamicamente -->
                </div>
                <div class="notifications-footer">
                    <button class="clear-all-notifications" id="clear-all-notifications">Limpar todas</button>
                </div>
            </div>
            
            <button class="info-btn" id="support-btn">
                <i class="fas fa-info-circle"></i>
            </button>
            
            <div class="support-dropdown" id="support-dropdown">
                <div class="dropdown-content">
                    <a href="https://wa.me/5521999397195?text=Ol√°,%20preciso%20de%20suporte%20com%20o%20sistema%20Florense" target="_blank" class="dropdown-link">
                        <i class="fab fa-whatsapp"></i>
                        Falar com o suporte (WhatsApp)
                    </a>
                    <a href="mailto:vhnascimento2808@hotmail.com?subject=Suporte%20-%20Sistema%20Florense" class="dropdown-link">
                        <i class="fas fa-envelope"></i>
                        Enviar email
                    </a>
                </div>
            </div>
            
            <div class="user-avatar" id="user-avatar">
                <span id="user-initial">U</span>
            </div>
            
            <div class="user-dropdown" id="user-dropdown">
                <div class="dropdown-header">
                    <div class="user-info">
                        <div class="avatar-large">
                            <span id="avatar-large-initial">U</span>
                        </div>
                        <div class="user-details">
                            <h4 id="user-name">Usu√°rio Florense</h4>
                            <p id="user-email">usuario@florense.com</p>
                        </div>
                    </div>
                </div>
                <div class="dropdown-content">
                    <a href="#" class="dropdown-link" id="profile-btn">
                        <i class="fas fa-user"></i>
                        Perfil
                    </a>
                    <hr class="dropdown-divider">
                    <button class="dropdown-link logout-btn" id="logout-btn">
                        <i class="fas fa-sign-out-alt"></i>
                        Sair
                    </button>
                </div>
            </div>
        </div>
    </nav>

    <!-- Boards Sidebar -->
    <div class="boards-sidebar" id="boards-sidebar">
        <div class="sidebar-header">
            <h3>Seus quadros</h3>
            <button class="close-sidebar" id="close-sidebar">
                <i class="fas fa-times"></i>
            </button>
        </div>
        <div class="boards-list" id="boards-list">
            <!-- Boards ser√£o inseridos aqui -->
        </div>
        <button class="create-board-btn" id="create-board-btn">
            <i class="fas fa-plus"></i>
            Criar novo quadro
        </button>
    </div>

    <!-- Board Header -->
    <div class="board-header" id="board-header">
        <div class="board-info">
            <h2 class="board-title" id="board-title" contenteditable="true">Projeto Florense</h2>
            <button class="star-btn" id="star-board">
                <i class="far fa-star"></i>
            </button>
        </div>
        <div class="board-actions">
            <!-- Bot√£o Sincronizar desativado -->
            <!-- <button class="board-btn sync-btn" id="sync-board-btn" title="Sincronizar altera√ß√µes">
                <i class="fas fa-sync-alt"></i>
                Sincronizar
            </button> -->
            <button class="board-btn" id="share-board-btn">
                <i class="fas fa-user-plus"></i>
                Compartilhar
            </button>
        </div>
    </div>
    <!-- Main Board Area -->
    <main class="board-container" id="board-container">
        <button class="scroll-nav-btn scroll-left" id="scroll-left-btn" style="display: none;">
            <i class="fas fa-chevron-left"></i>
        </button>
        <button class="scroll-nav-btn scroll-right" id="scroll-right-btn" style="display: none;">
            <i class="fas fa-chevron-right"></i>
        </button>
        <div class="board-content" id="board-content">
            <div class="lists-container" id="lists-container">
                <!-- As listas ser√£o inseridas aqui dinamicamente -->
                <div class="list" data-list-id="todo">
                    <div class="list-header">
                        <input type="text" class="list-title" value="A Fazer" readonly>
                        <button class="list-options">
                            <i class="fas fa-ellipsis-h"></i>
                        </button>
                    </div>
                    <div class="cards-container" id="todo-cards">
                        <!-- Cards ser√£o inseridos aqui -->
                    </div>
                    <div class="add-card-container">
                        <button class="add-card-btn">
                            <i class="fas fa-plus"></i>
                            Adicionar um cart√£o
                        </button>
                    </div>
                </div>

                <div class="list" data-list-id="doing">
                    <div class="list-header">
                        <input type="text" class="list-title" value="Em Andamento" readonly>
                        <button class="list-options">
                            <i class="fas fa-ellipsis-h"></i>
                        </button>
                    </div>
                    <div class="cards-container" id="doing-cards">
                        <!-- Cards ser√£o inseridos aqui -->
                    </div>
                    <div class="add-card-container">
                        <button class="add-card-btn">
                            <i class="fas fa-plus"></i>
                            Adicionar um cart√£o
                        </button>
                        <div class="add-card-form" style="display: none;">
                            <div class="card-form-content">
                                <div class="card-form-field">
                                    <label for="numero-pedido-doing">N√∫mero do Pedido:</label>
                                    <input type="text" id="numero-pedido-doing" class="card-input" placeholder="N√∫mero do pedido" required>
                                </div>
                                <div class="card-form-field">
                                    <label for="cliente-name-doing">Nome do Cliente:</label>
                                    <input type="text" id="cliente-name-doing" class="card-input" placeholder="Nome do cliente" required>
                                </div>
                                <div class="card-form-field">
                                    <label for="telefone-cliente-doing">Telefone do Cliente:</label>
                                    <input type="tel" id="telefone-cliente-doing" class="card-input" placeholder="(11) 99999-9999" required>
                                </div>
                                <div class="card-form-field">
                                    <label for="engenheiro-name-doing">Nome do Engenheiro:</label>
                                    <input type="text" id="engenheiro-name-doing" class="card-input" placeholder="Nome do engenheiro" required>
                                </div>
                                <div class="card-form-field">
                                    <label for="arquiteto-name-doing">Nome do Arquiteto:</label>
                                    <input type="text" id="arquiteto-name-doing" class="card-input" placeholder="Nome do arquiteto" required>
                                </div>
                                <div class="card-form-field">
                                    <label for="solicitacao-cliente-doing">Solicita√ß√£o do Cliente:</label>
                                    <textarea id="solicitacao-cliente-doing" class="card-textarea" placeholder="Descreva a solicita√ß√£o do cliente..." required></textarea>
                                </div>
                            </div>
                            <div class="add-card-actions">
                                <button class="btn-primary save-card">Adicionar cart√£o</button>
                                <button class="btn-cancel cancel-card">
                                    <i class="fas fa-times"></i>
                                </button>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="list" data-list-id="done">
                    <div class="list-header">
                        <input type="text" class="list-title" value="Conclu√≠do" readonly>
                        <button class="list-options">
                            <i class="fas fa-ellipsis-h"></i>
                        </button>
                    </div>
                    <div class="cards-container" id="done-cards">
                        <!-- Cards ser√£o inseridos aqui -->
                    </div>
                    <div class="add-card-container">
                        <button class="add-card-btn">
                            <i class="fas fa-plus"></i>
                            Adicionar um cart√£o
                        </button>
                        <div class="add-card-form" style="display: none;">
                            <div class="card-form-content">
                                <div class="card-form-field">
                                    <label for="numero-pedido-done">N√∫mero do Pedido:</label>
                                    <input type="text" id="numero-pedido-done" class="card-input" placeholder="N√∫mero do pedido" required>
                                </div>
                                <div class="card-form-field">
                                    <label for="cliente-name-done">Nome do Cliente:</label>
                                    <input type="text" id="cliente-name-done" class="card-input" placeholder="Nome do cliente" required>
                                </div>
                                <div class="card-form-field">
                                    <label for="telefone-cliente-done">Telefone do Cliente:</label>
                                    <input type="tel" id="telefone-cliente-done" class="card-input" placeholder="(11) 99999-9999" required>
                                </div>
                                <div class="card-form-field">
                                    <label for="engenheiro-name-done">Nome do Engenheiro:</label>
                                    <input type="text" id="engenheiro-name-done" class="card-input" placeholder="Nome do engenheiro" required>
                                </div>
                                <div class="card-form-field">
                                    <label for="arquiteto-name-done">Nome do Arquiteto:</label>
                                    <input type="text" id="arquiteto-name-done" class="card-input" placeholder="Nome do arquiteto" required>
                                </div>
                                <div class="card-form-field">
                                    <label for="solicitacao-cliente-done">Solicita√ß√£o do Cliente:</label>
                                    <textarea id="solicitacao-cliente-done" class="card-textarea" placeholder="Descreva a solicita√ß√£o do cliente..." required></textarea>
                                </div>
                            </div>
                            <div class="add-card-actions">
                                <button class="btn-primary save-card">Adicionar cart√£o</button>
                                <button class="btn-cancel cancel-card">
                                    <i class="fas fa-times"></i>
                                </button>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Add List Button -->
                <div class="add-list-container">
                    <button class="add-list-btn" id="add-list-btn">
                        <i class="fas fa-plus"></i>
                        Adicionar outra lista
                    </button>
                    <div class="add-list-form" id="add-list-form" style="display: none;">
                        <input type="text" placeholder="Insira o t√≠tulo da lista..." id="new-list-title">
                        <div class="add-list-actions">
                            <button class="btn-primary" id="save-list">Adicionar lista</button>
                            <button class="btn-cancel" id="cancel-list">
                                <i class="fas fa-times"></i>
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </main>
    <!-- Card Detail Modal -->
    <div class="modal" id="card-modal">
        <div class="modal-backdrop" id="modal-backdrop"></div>
        <div class="card-detail">
            <div class="card-detail-header">
                <div class="card-title-section">
                    <i class="fas fa-credit-card card-icon"></i>
                    <textarea class="card-title-input" id="card-title-input" placeholder="T√≠tulo do cart√£o"></textarea>
                </div>
                <button class="close-modal" id="close-card-modal">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            
            <div class="card-detail-body">
                <div class="card-detail-main">
                    <!-- Labels -->
                    <div class="card-section">
                        <h4>Marcadores</h4>
                        <div class="labels-container" id="labels-container">
                            <!-- Labels ser√£o inseridos aqui -->
                        </div>
                        <div style="display: flex; gap: 8px; margin-top: 8px;">
                            <button class="btn-secondary add-label-btn" id="add-label-btn">
                                <i class="fas fa-plus"></i> Adicionar marcador
                            </button>
                            <button class="btn-secondary" id="add-attachment-btn-inline">
                                <i class="fas fa-paperclip"></i> Anexar arquivos
                            </button>
                        </div>
                    </div>

                    <!-- Client Details -->
                    <div class="card-section" id="client-details-section" style="display: none;">
                        <div class="section-header">
                            <i class="fas fa-users"></i>
                            <h4>Detalhes do Projeto</h4>
                        </div>
                        <div class="client-details-grid">
                            <div class="client-detail-row">
                                <label><i class="fas fa-hashtag"></i> N¬∫ Pedido:</label>
                                <span id="order-number-display">-</span>
                            </div>
                            <div class="client-detail-row">
                                <label><i class="fas fa-user"></i> Cliente:</label>
                                <span id="client-name-display">-</span>
                            </div>
                            <div class="client-detail-row">
                                <label><i class="fas fa-phone"></i> Telefone:</label>
                                <span id="client-phone-display">-</span>
                            </div>
                            <div class="client-detail-row">
                                <label><i class="fas fa-hard-hat"></i> Engenheiro:</label>
                                <span id="engineer-name-display">-</span>
                            </div>
                            <div class="client-detail-row">
                                <label><i class="fas fa-drafting-compass"></i> Arquiteto:</label>
                                <span id="architect-name-display">-</span>
                            </div>
                        </div>
                    </div>

                    <!-- Dates -->
                    <div class="card-section" id="card-dates-section" style="display: none;">
                        <div class="section-header">
                            <i class="fas fa-clock"></i>
                            <h4>Datas</h4>
                        </div>
                        <div class="card-dates-container" id="card-dates-container">
                            <!-- Datas ser√£o inseridas aqui -->
                        </div>
                    </div>

                    <!-- Description -->
                    <div class="card-section">
                        <div class="section-header">
                            <i class="fas fa-align-left"></i>
                            <h4>Descri√ß√£o</h4>
                        </div>
                        <textarea class="description-textarea" id="description-textarea" 
                                placeholder="Adicionar uma descri√ß√£o mais detalhada..."></textarea>
                    </div>

                    <!-- Attachments -->
                    <div class="card-section" id="attachments-section">
                        <div class="section-header">
                            <i class="fas fa-paperclip"></i>
                            <h4>Anexos</h4>
                        </div>
                        <div class="attachments-list" id="attachments-list">
                            <!-- Anexos ser√£o inseridos aqui -->
                        </div>
                    </div>

                    <!-- Comments -->
                    <div class="card-section">
                        <div class="section-header">
                            <i class="fas fa-comment"></i>
                            <h4>Coment√°rios</h4>
                        </div>
                        <div class="add-comment">
                            <div class="comment-avatar"></div>
                            <div class="comment-input-container">
                                <textarea placeholder="Escrever um coment√°rio..." id="comment-textarea"></textarea>
                                <button class="btn-primary save-comment" id="save-comment">Comentar</button>
                            </div>
                        </div>
                        <div class="comments-list" id="comments-list">
                            <!-- Coment√°rios ser√£o inseridos aqui -->
                        </div>
                    </div>
                </div>

                <div class="card-detail-sidebar">
                    <h4>Adicionar ao cart√£o</h4>
                    <div class="sidebar-actions">
                        <button class="sidebar-btn" id="add-members-btn">
                            <i class="fas fa-user"></i>
                            Membros
                        </button>
                        <button class="sidebar-btn" id="add-labels-btn">
                            <i class="fas fa-tag"></i>
                            Marcadores
                        </button>
                        <button class="sidebar-btn" id="add-attachment-btn">
                            <i class="fas fa-paperclip"></i>
                            Anexo
                        </button>
                        <button class="sidebar-btn" id="add-due-date-btn">
                            <i class="fas fa-clock"></i>
                            Data de vencimento
                        </button>
                    </div>

                    <h4>A√ß√µes</h4>
                    <div class="sidebar-actions">
                        <button class="sidebar-btn delete-btn" id="delete-card-btn">
                            <i class="fas fa-trash"></i>
                            Excluir
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Labels Modal -->
    <div class="modal" id="labels-modal" style="display: none;">
        <div class="modal-backdrop"></div>
        <div class="labels-modal-content">
            <div class="modal-header">
                <h3>Marcadores</h3>
                <button class="close-modal">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="labels-grid">
                <div class="label-option" data-color="green">
                    <div class="label-color green"></div>
                    <span>Verde</span>
                </div>
                <div class="label-option" data-color="yellow">
                    <div class="label-color yellow"></div>
                    <span>Amarelo</span>
                </div>
                <div class="label-option" data-color="orange">
                    <div class="label-color orange"></div>
                    <span>Laranja</span>
                </div>
                <div class="label-option" data-color="red">
                    <div class="label-color red"></div>
                    <span>Vermelho</span>
                </div>
                <div class="label-option" data-color="purple">
                    <div class="label-color purple"></div>
                    <span>Roxo</span>
                </div>
                <div class="label-option" data-color="blue">
                    <div class="label-color blue"></div>
                    <span>Azul</span>
                </div>
            </div>
        </div>
    </div>

    <!-- Modal para Nomear Marcador -->
    <div class="modal" id="label-name-modal" style="display: none;">
        <div class="modal-backdrop"></div>
        <div class="label-name-modal-content">
            <div class="modal-header">
                <h3>Nomear Marcador</h3>
                <button class="close-modal" onclick="closeLabelNameModal()">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="label-name-body">
                <div class="label-preview" id="label-preview">
                    <div class="label-color-preview" id="label-color-preview"></div>
                    <span id="label-default-name">Verde</span>
                </div>
                <div class="form-group">
                    <label>Nome do Marcador</label>
                    <input type="text" id="label-name-input" placeholder="Digite o nome..." maxlength="30" autocomplete="off">
                    <small>M√°ximo 30 caracteres</small>
                </div>
                <div class="modal-actions">
                    <button type="button" class="btn-secondary" onclick="closeLabelNameModal()">Cancelar</button>
                    <button type="button" class="btn-primary" onclick="confirmLabelName()">Salvar</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Create Board Modal -->
    <div class="modal" id="create-board-modal" style="display: none;">
        <div class="modal-backdrop"></div>
        <div class="create-board-content">
            <div class="modal-header">
                <h3>Criar quadro</h3>
                <button class="close-modal">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <form id="create-board-form">
                <div class="form-group">
                    <label>T√≠tulo do quadro</label>
                    <input type="text" id="board-name-input" placeholder="Digite o nome do quadro..." required>
                </div>
                <div class="form-group">
                    <label>Plano de fundo</label>
                    
                    <!-- Gradients -->
                    <h5 class="bg-category-title">Gradientes</h5>
                    <div class="background-options">
                        <div class="bg-option selected" data-bg="gradient1" data-type="gradient" style="background: linear-gradient(135deg, #667eea, #764ba2);"></div>
                        <div class="bg-option" data-bg="gradient2" data-type="gradient" style="background: linear-gradient(135deg, #f093fb, #f5576c);"></div>
                        <div class="bg-option" data-bg="gradient3" data-type="gradient" style="background: linear-gradient(135deg, #4facfe, #00f2fe);"></div>
                        <div class="bg-option" data-bg="gradient4" data-type="gradient" style="background: linear-gradient(135deg, #43e97b, #38f9d7);"></div>
                        <div class="bg-option" data-bg="gradient5" data-type="gradient" style="background: linear-gradient(135deg, #fa709a, #fee140);"></div>
                        <div class="bg-option" data-bg="gradient6" data-type="gradient" style="background: linear-gradient(135deg, #a8edea, #fed6e3);"></div>
                    </div>
                    
                    <!-- Nature Images -->
                    <h5 class="bg-category-title">Natureza</h5>
                    <div class="background-options">
                        <div class="bg-option" data-bg="nature1" data-type="image" style="background-image: url('https://images.unsplash.com/photo-1506905925346-21bda4d32df4?ixlib=rb-4.0.3&auto=format&fit=crop&w=1000&q=80'); background-size: cover; background-position: center;"></div>
                        <div class="bg-option" data-bg="nature2" data-type="image" style="background-image: url('https://images.unsplash.com/photo-1441974231531-c6227db76b6e?ixlib=rb-4.0.3&auto=format&fit=crop&w=1000&q=80'); background-size: cover; background-position: center;"></div>
                        <div class="bg-option" data-bg="nature3" data-type="image" style="background-image: url('https://images.unsplash.com/photo-1470071459604-3b5ec3a7fe05?ixlib=rb-4.0.3&auto=format&fit=crop&w=1000&q=80'); background-size: cover; background-position: center;"></div>
                        <div class="bg-option" data-bg="nature4" data-type="image" style="background-image: url('https://images.unsplash.com/photo-1518837695005-2083093ee35b?ixlib=rb-4.0.3&auto=format&fit=crop&w=1000&q=80'); background-size: cover; background-position: center;"></div>
                        <div class="bg-option" data-bg="nature5" data-type="image" style="background-image: url('https://images.unsplash.com/photo-1506905925346-21bda4d32df4?ixlib=rb-4.0.3&auto=format&fit=crop&w=1000&q=80'); background-size: cover; background-position: center;"></div>
                        <div class="bg-option" data-bg="nature6" data-type="image" style="background-image: url('https://images.unsplash.com/photo-1469474968028-56623f02e42e?ixlib=rb-4.0.3&auto=format&fit=crop&w=1000&q=80'); background-size: cover; background-position: center;"></div>
                    </div>
                    
                    <!-- Mountain & Ocean -->
                    <h5 class="bg-category-title">Montanhas e Oceano</h5>
                    <div class="background-options">
                        <div class="bg-option" data-bg="mountain1" data-type="image" style="background-image: url('https://images.unsplash.com/photo-1464822759844-d150378684e8?ixlib=rb-4.0.3&auto=format&fit=crop&w=1000&q=80'); background-size: cover; background-position: center;"></div>
                        <div class="bg-option" data-bg="mountain2" data-type="image" style="background-image: url('https://images.unsplash.com/photo-1506197603052-3cc9c3a201bd?ixlib=rb-4.0.3&auto=format&fit=crop&w=1000&q=80'); background-size: cover; background-position: center;"></div>
                        <div class="bg-option" data-bg="ocean1" data-type="image" style="background-image: url('https://images.unsplash.com/photo-1439066615861-d1af74d74000?ixlib=rb-4.0.3&auto=format&fit=crop&w=1000&q=80'); background-size: cover; background-position: center;"></div>
                        <div class="bg-option" data-bg="ocean2" data-type="image" style="background-image: url('https://images.unsplash.com/photo-1505142468610-359e7d316be0?ixlib=rb-4.0.3&auto=format&fit=crop&w=1000&q=80'); background-size: cover; background-position: center;"></div>
                        <div class="bg-option" data-bg="forest1" data-type="image" style="background-image: url('https://images.unsplash.com/photo-1518837695005-2083093ee35b?ixlib=rb-4.0.3&auto=format&fit=crop&w=1000&q=80'); background-size: cover; background-position: center;"></div>
                        <div class="bg-option" data-bg="sunset1" data-type="image" style="background-image: url('https://images.unsplash.com/photo-1495616811223-4d98c6e9c869?ixlib=rb-4.0.3&auto=format&fit=crop&w=1000&q=80'); background-size: cover; background-position: center;"></div>
                    </div>
                    
                    <!-- Paisagens Tropicais -->
                    <h5 class="bg-category-title">Paisagens Tropicais</h5>
                    <div class="background-options">
                        <div class="bg-option" data-bg="tropical1" data-type="image" style="background-image: url('https://images.unsplash.com/photo-1506905925346-21bda4d32df4?ixlib=rb-4.0.3&auto=format&fit=crop&w=1000&q=80'); background-size: cover; background-position: center;"></div>
                        <div class="bg-option" data-bg="tropical2" data-type="image" style="background-image: url('https://images.unsplash.com/photo-1540979388789-6cee28a1cdc9?ixlib=rb-4.0.3&auto=format&fit=crop&w=1000&q=80'); background-size: cover; background-position: center;"></div>
                        <div class="bg-option" data-bg="beach1" data-type="image" style="background-image: url('https://images.unsplash.com/photo-1507525428034-b723cf961d3e?ixlib=rb-4.0.3&auto=format&fit=crop&w=1000&q=80'); background-size: cover; background-position: center;"></div>
                        <div class="bg-option" data-bg="beach2" data-type="image" style="background-image: url('https://images.unsplash.com/photo-1544551763-46a013bb70d5?ixlib=rb-4.0.3&auto=format&fit=crop&w=1000&q=80'); background-size: cover; background-position: center;"></div>
                        <div class="bg-option" data-bg="jungle1" data-type="image" style="background-image: url('https://images.unsplash.com/photo-1558618666-fcd25c85cd64?ixlib=rb-4.0.3&auto=format&fit=crop&w=1000&q=80'); background-size: cover; background-position: center;"></div>
                        <div class="bg-option" data-bg="waterfall1" data-type="image" style="background-image: url('https://images.unsplash.com/photo-1506905925346-21bda4d32df4?ixlib=rb-4.0.3&auto=format&fit=crop&w=1000&q=80'); background-size: cover; background-position: center;"></div>
                    </div>
                    
                    <!-- C√©u e Atmosfera -->
                    <h5 class="bg-category-title">C√©u e Atmosfera</h5>
                    <div class="background-options">
                        <div class="bg-option" data-bg="sky1" data-type="image" style="background-image: url('https://images.unsplash.com/photo-1469474968028-56623f02e42e?ixlib=rb-4.0.3&auto=format&fit=crop&w=1000&q=80'); background-size: cover; background-position: center;"></div>
                        <div class="bg-option" data-bg="clouds1" data-type="image" style="background-image: url('https://images.unsplash.com/photo-1444927714506-8492d94b5ba0?ixlib=rb-4.0.3&auto=format&fit=crop&w=1000&q=80'); background-size: cover; background-position: center;"></div>
                        <div class="bg-option" data-bg="sunrise1" data-type="image" style="background-image: url('https://images.unsplash.com/photo-1484589065579-248aad0d8b13?ixlib=rb-4.0.3&auto=format&fit=crop&w=1000&q=80'); background-size: cover; background-position: center;"></div>
                        <div class="bg-option" data-bg="storm1" data-type="image" style="background-image: url('https://images.unsplash.com/photo-1546026423-cc4642628d2b?ixlib=rb-4.0.3&auto=format&fit=crop&w=1000&q=80'); background-size: cover; background-position: center;"></div>
                        <div class="bg-option" data-bg="aurora1" data-type="image" style="background-image: url('https://images.unsplash.com/photo-1531366936337-7c912a4589a7?ixlib=rb-4.0.3&auto=format&fit=crop&w=1000&q=80'); background-size: cover; background-position: center;"></div>
                        <div class="bg-option" data-bg="stars1" data-type="image" style="background-image: url('https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?ixlib=rb-4.0.3&auto=format&fit=crop&w=1000&q=80'); background-size: cover; background-position: center;"></div>
                    </div>
                </div>
                <div class="form-actions">
                    <button type="submit" class="btn-primary">Criar quadro</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Due Date Modal -->
    <div class="modal" id="due-date-modal" style="display: none;">
        <div class="modal-backdrop"></div>
        <div class="due-date-modal-content">
            <div class="modal-header">
                <h3>Datas</h3>
                <button class="close-modal" onclick="closeDueDateModal()">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="date-form">
                <div class="form-group">
                    <label>Data de in√≠cio</label>
                    <input type="date" id="start-date" class="date-input">
                </div>
                <div class="form-group">
                    <label>Data de vencimento</label>
                    <input type="date" id="due-date" class="date-input">
                </div>
                <div class="form-group">
                    <label>Lembrete</label>
                    <select id="reminder" class="reminder-select">
                        <option value="">Nenhum</option>
                        <option value="1">1 dia antes</option>
                        <option value="2">2 dias antes</option>
                        <option value="7">1 semana antes</option>
                    </select>
                </div>
                <div class="form-actions">
                    <button class="btn-primary" onclick="saveDates()">Salvar</button>
                    <button class="btn-secondary" onclick="closeDueDateModal()">Cancelar</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Members Modal -->
    <div class="modal" id="members-modal" style="display: none;">
        <div class="modal-backdrop"></div>
        <div class="members-modal-content">
            <div class="modal-header">
                <h3>Membros</h3>
                <button class="close-modal" onclick="closeMembersModal()">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="members-search">
                <input type="text" id="member-search" placeholder="Procurar por nome ou email...">
            </div>
            <div class="members-list" id="members-list">
                <!-- Lista de membros ser√° gerada dinamicamente pelo JavaScript -->
            </div>
        </div>
    </div>

    <!-- File Input Hidden -->
    <input type="file" id="file-input" style="display: none;" accept=".pdf,.jpg,.jpeg,.png,.gif,.webp" multiple>
    
    <!-- Modal de Compartilhamento -->
    <div class="modal" id="share-modal">
        <div class="modal-content share-modal-content">
            <div class="modal-header">
                <h2>Compartilhar Quadro</h2>
                <button class="modal-close" onclick="closeShareModal()">&times;</button>
            </div>
            <div class="share-modal-body">
                <p class="share-description">Compartilhe este quadro com outras pessoas para colaborar em tempo real.</p>
                
                <div class="form-group">
                    <label for="share-email">Email do usu√°rio</label>
                    <div class="share-input-group">
                        <input type="email" id="share-email" class="form-input" placeholder="usuario@exemplo.com">
                        <button class="btn-add-member" onclick="addMemberToBoard()">
                            <i class="fas fa-user-plus"></i>
                            Adicionar
                        </button>
                    </div>
                </div>
                
                <div class="share-link-section">
                    <label>Link de compartilhamento</label>
                    <div class="share-link-group">
                        <input type="text" id="share-link" class="form-input" readonly value="">
                        <button class="btn-copy-link" onclick="copyShareLink()">
                            <i class="fas fa-copy"></i>
                            Copiar
                        </button>
                    </div>
                    <small class="form-hint">Qualquer pessoa com este link poder√° visualizar o quadro</small>
                </div>
                
                <div class="shared-members-section">
                    <h3>Membros com acesso</h3>
                    <div class="shared-members-list" id="shared-members-list">
                        <div class="shared-member current-user">
                            <div class="member-avatar">
                                <span id="share-current-user-initial">U</span>
                            </div>
                            <div class="member-info">
                                <strong id="share-current-user-name">Voc√™</strong>
                                <span class="member-role">Propriet√°rio</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Add Card Modal -->
    <div class="modal" id="add-card-modal">
        <div class="modal-backdrop"></div>
        <div class="modal-content add-card-modal-content">
            <div class="modal-header">
                <h2>Adicionar Cart√£o</h2>
                <button class="modal-close" onclick="closeAddCardModal()">&times;</button>
            </div>
            <div class="add-card-modal-body">
                <div class="card-form-field">
                    <label for="numero-pedido-modal">N√∫mero do Pedido:</label>
                    <input type="text" id="numero-pedido-modal" class="form-input" placeholder="N√∫mero do pedido" required>
                </div>
                <div class="card-form-field">
                    <label for="cliente-name-modal">Nome do Cliente:</label>
                    <input type="text" id="cliente-name-modal" class="form-input" placeholder="Nome do cliente" required>
                </div>
                <div class="card-form-field">
                    <label for="telefone-cliente-modal">Telefone do Cliente:</label>
                    <input type="tel" id="telefone-cliente-modal" class="form-input" placeholder="(11) 99999-9999" required>
                </div>
                <div class="card-form-field">
                    <label for="engenheiro-name-modal">Nome do Engenheiro:</label>
                    <input type="text" id="engenheiro-name-modal" class="form-input" placeholder="Nome do engenheiro" required>
                </div>
                <div class="card-form-field">
                    <label for="arquiteto-name-modal">Nome do Arquiteto:</label>
                    <input type="text" id="arquiteto-name-modal" class="form-input" placeholder="Nome do arquiteto" required>
                </div>
                <div class="card-form-field">
                    <label for="solicitacao-cliente-modal">Solicita√ß√£o do Cliente:</label>
                    <textarea id="solicitacao-cliente-modal" class="card-textarea" placeholder="Descreva a solicita√ß√£o do cliente..." required></textarea>
                </div>
                <div class="modal-footer">
                    <button class="btn-cancel" onclick="closeAddCardModal()">Cancelar</button>
                    <button class="btn-primary" onclick="saveCardFromModal()">Adicionar cart√£o</button>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Profile Modal -->
    <div id="profile-modal" class="modal">
        <div class="modal-content profile-modal-content">
            <div class="modal-header">
                <h2>Perfil e Visibilidade</h2>
                <button class="btn-close-modal" onclick="closeProfileModal()">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            
            <form onsubmit="saveProfile(event)" class="profile-form">
                <div class="profile-avatar-section">
                    <div class="avatar-upload">
                        <div class="avatar-preview" id="profile-avatar-preview">
                            <img id="profile-avatar-image" style="display: none;" alt="Avatar">
                            <span id="profile-avatar-initial" class="avatar-initial">U</span>
                        </div>
                        <div class="avatar-actions">
                            <label for="profile-photo-input" class="btn-upload-photo">
                                <i class="fas fa-camera"></i>
                                Carregar foto
                            </label>
                            <input 
                                type="file" 
                                id="profile-photo-input" 
                                accept="image/*" 
                                onchange="handlePhotoUpload(event)"
                                style="display: none;"
                            >
                            <button type="button" class="btn-remove-photo" id="remove-photo-btn" onclick="removePhoto()">
                                <i class="fas fa-trash"></i>
                                Remover
                            </button>
                        </div>
                        <p class="avatar-hint">Tamanho m√°ximo: 2MB</p>
                    </div>
                </div>
                
                <div class="form-group">
                    <label for="profile-name">Nome completo *</label>
                    <input 
                        type="text" 
                        id="profile-name" 
                        class="form-input" 
                        placeholder="Digite seu nome"
                        required
                    >
                </div>
                
                <div class="form-group">
                    <label for="profile-email">Email</label>
                    <input 
                        type="email" 
                        id="profile-email" 
                        class="form-input" 
                        readonly
                    >
                    <small class="form-hint">O email n√£o pode ser alterado</small>
                </div>
                
                <div class="form-group">
                    <label for="profile-phone">Telefone</label>
                    <input 
                        type="tel" 
                        id="profile-phone" 
                        class="form-input" 
                        placeholder="(00) 00000-0000"
                    >
                </div>
                
                <div class="form-group">
                    <label for="profile-bio">Bio</label>
                    <textarea 
                        id="profile-bio" 
                        class="form-textarea" 
                        placeholder="Conte um pouco sobre voc√™..."
                        rows="4"
                    ></textarea>
                </div>
                
                <div class="modal-footer">
                    <button type="button" class="btn-cancel" onclick="closeProfileModal()">
                        Cancelar
                    </button>
                    <button type="submit" class="btn-save">
                        <i class="fas fa-save"></i>
                        Salvar altera√ß√µes
                    </button>
                </div>
            </form>
        </div>
    </div>
    
    <!-- Script de Verifica√ß√£o Simples -->
    <script>
        // Verificar se h√° usu√°rio logado
        const loggedUser = JSON.parse(localStorage.getItem('loggedUser') || 'null');
        if (!loggedUser || !loggedUser.email) {
            console.warn('‚ö†Ô∏è Usu√°rio n√£o autenticado, redirecionando...');
            window.location.href = 'login.html';
        } else {
            console.log('‚úÖ Usu√°rio autenticado:', loggedUser.email);
        }
    </script>
    
    <!-- Firebase SDK -->
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-firestore-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-storage-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-analytics-compat.js"></script>

    <!-- Firebase Config e Services -->
    <script src="firebase-config.js?v=20251021"></script>
    <script src="firebase-service.js?v=20251021"></script>

    <!-- JavaScript -->
    <script src="dashboard-new.js?v=20251021"></script>
</body>
</html>
